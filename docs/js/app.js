(function(t){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-page-note/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Page")],1)},r=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.pageClick(e)}}},[o("Toolbar"),o("div",{staticClass:"screen"},t._l(t.elements,(function(t){return o(t.type,{key:t.id,tag:"components",attrs:{elprop:t}})})),1),o("TransformControl")],1)},s=[],c=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"toolbar-container"},[o("ul",{staticClass:"toolbar cf"},[o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addTextElement("RichText")}}},[o("i",{staticClass:"material-icons"},[t._v("text_fields")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addTextElement("RichText")}}},[o("i",{staticClass:"material-icons"},[t._v("image")])])])]),o("ul",{staticClass:"toolbar cf"},[o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("bold")}}},[o("i",{staticClass:"material-icons"},[t._v("format_bold")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("italic")}}},[o("i",{staticClass:"material-icons"},[t._v("format_italic")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("underline")}}},[o("i",{staticClass:"material-icons"},[t._v("format_underlined")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("justifyleft")}}},[o("i",{staticClass:"material-icons"},[t._v("format_align_left")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("justifycenter")}}},[o("i",{staticClass:"material-icons"},[t._v("format_align_center")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("justifyright")}}},[o("i",{staticClass:"material-icons"},[t._v("format_align_right")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("insertorderedlist")}}},[o("i",{staticClass:"material-icons"},[t._v("format_list_numbered")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("insertunorderedlist")}}},[o("i",{staticClass:"material-icons"},[t._v("format_list_bulleted")])])]),o("li",{staticClass:"dropdown"},[t._m(0),o("div",{staticClass:"dropdown-content"},[o("a",{staticStyle:{"font-family":"Aladin"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Aladin")}}},[t._v("Aladin")]),o("a",{staticStyle:{"font-family":"Kumar"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Kumar One Outline")}}},[t._v("Kumar")]),o("a",{staticStyle:{"font-family":"Fredericka the Great"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Fredericka the Great")}}},[t._v("Fredericka the Great")]),o("a",{staticStyle:{"font-family":"Indie Flower"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Indie Flower")}}},[t._v("Indie Flower")]),o("a",{staticStyle:{"font-family":"Pacifico"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Pacifico")}}},[t._v("Pacifico")]),o("a",{staticStyle:{"font-family":"Courier Prime"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Courier Prime")}}},[t._v("Courier Prime")]),o("a",{staticStyle:{"font-family":"Poppins"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Poppins")}}},[t._v("Poppins")]),o("a",{staticStyle:{"font-family":"Kaushan Script"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("fontname","Kaushan Script")}}},[t._v("Kaushan Script")])])]),o("li",{staticClass:"dropdown"},[t._m(1),o("div",{staticClass:"sub"},[o("div",{staticClass:"arrow",staticStyle:{left:"50%",right:"50%"}}),o("ul",{staticClass:"toolbar"},[o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h1")}}},[t._v("H1")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h2")}}},[t._v("H2")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h3")}}},[t._v("H3")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h4")}}},[t._v("H4")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h5")}}},[t._v("H5")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","h6")}}},[t._v("H6")])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","blockquote")}}},[o("i",{staticClass:"material-icons"},[t._v("format_quote")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","p")}}},[o("b",[t._v("P")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.formatDoc("formatblock","pre")}}},[o("small",[t._v("Pre")])])])])])])]),o("ul",{staticClass:"toolbar cf"},[o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeTextElement()}}},[o("i",{staticClass:"material-icons"},[t._v("close")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.savePage()}}},[o("i",{staticClass:"material-icons"},[t._v("save")])])]),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearPage()}}},[o("i",{staticClass:"material-icons"},[t._v("delete_forever")])])])])])},u=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{attrs:{href:"javascript:void(0)"}},[o("i",{staticClass:"material-icons"},[t._v("\n        font_download\n      ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{attrs:{href:"javascript:void(0)"}},[o("i",{staticClass:"material-icons"},[t._v("\n        text_format\n        ")])])}],p={methods:{addTextElement:function(t){this.$store.commit("addTextElement",t)},removeTextElement:function(){this.$store.commit("removeTextElement")},savePage:function(){this.$store.commit("savePage")},clearPage:function(){this.$store.commit("clearPage")},formatDoc:function(t,e){document.execCommand(t,!1,e)}}},f=p,m=(o("b751"),o("2877")),d=Object(m["a"])(f,l,u,!1,null,null,null),v=d.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ctrl-container"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.element.selected,expression:"element.selected"}],staticClass:"control",style:t.controlStyle},[o("div",{staticClass:"rot-handle",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.mousedownHandle(e,"rotation")}}},[o("div",{staticClass:"handle"})]),o("div",{staticClass:"ctr-handle lh",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.mousedownHandle(e,"left")}}},[o("div",{staticClass:"handle"})]),o("div",{staticClass:"ctr-handle rh",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.mousedownHandle(e,"right")}}},[o("div",{staticClass:"handle"})])])])},g=[],b=o("2f62");function P(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?P(Object(o),!0).forEach((function(e){Object(c["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var j={computed:y({},Object(b["b"])({element:function(t){return t.selectedElement}}),{controlStyle:function(){return{width:"".concat(this.element.width,"px"),height:"".concat(this.element.height,"px"),transform:"translate(".concat(this.element.x,"px, ").concat(this.element.y,"px) rotate(").concat(this.element.rot,"deg)")}}}),data:function(){return{mX:0,mY:0,eX:0,eY:0,w:0,h:0,angle:0,type:""}},methods:{mousedownHandle:function(t,e){this.mX=t.pageX,this.mY=t.pageY,this.eX=this.element.x,this.eY=this.element.y,this.w=this.element.width,this.h=this.element.height,this.angle=this.element.rot,this.type=e,document.addEventListener("mousemove",this.mousemoveHandle,!0),document.addEventListener("mouseup",this.mouseupHandle,!0)},mousemoveHandle:function(t){t.stopPropagation(),t.preventDefault();var e=t.pageX-this.mX;if("right"===this.type){var o=this.w+e;this.$store.commit("updateProperties",{width:o})}if("left"===this.type){var n=this.w-e,a=this.eX+e;this.$store.commit("updateProperties",{width:n,x:a})}if("rotation"===this.type){var r=this.eX+this.w/2,i=this.eY+this.h/2,s=t.pageX,c=t.pageY,l=Math.atan2(s-r,c-i),u=l*(180/Math.PI)*-1+180;this.$store.commit("updateProperties",{rot:u})}},mouseupHandle:function(){document.removeEventListener("mousemove",this.mousemoveHandle,!0),document.removeEventListener("mouseup",this.mouseupHandle,!0),this.mX=0,this.mY=0,this.eX=0,this.eY=0,this.w=0,this.h=0,this.type=""}}},_=j,D=Object(m["a"])(_,h,g,!1,null,null,null),E=D.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editbox",style:t.styleObj,attrs:{contenteditable:t.elprop.editable},domProps:{innerHTML:t._s(t.elprop.text)},on:{dblclick:function(e){return e.stopPropagation(),e.preventDefault(),t.onDblClick(e)},mousedown:t.mousedownHandle,input:t.updateText}})},w=[],x={props:{elprop:{type:Object,default:function(){}}},data:function(){return{mX:0,mY:0,eX:0,eY:0}},methods:{onDblClick:function(){this.$store.commit("updateProperties",{editable:!0})},mousedownHandle:function(t){this.elprop.editable||(this.mX=t.pageX,this.mY=t.pageY,this.eX=this.elprop.x,this.eY=this.elprop.y,this.$store.commit("selectElement",{id:this.elprop.id,h:this.$el.clientHeight,w:this.$el.clientWidth}),document.addEventListener("mousemove",this.mousemoveHandle,!0),document.addEventListener("mouseup",this.mouseupHandle,!0))},mousemoveHandle:function(t){this.isMove=!0,t.stopPropagation(),t.preventDefault();var e=t.pageX-this.mX,o=t.pageY-this.mY;this.$store.commit("moveElement",{x:this.eX+e,y:this.eY+o})},mouseupHandle:function(){document.removeEventListener("mousemove",this.mousemoveHandle,!0),document.removeEventListener("mouseup",this.mouseupHandle,!0)},updateText:function(t){var e=t.target.innerHTML;this.$store.commit("updateHtmlText",e)}},computed:{styleObj:function(){var t={width:this.elprop.width+"px",transform:"translate(".concat(this.elprop.x,"px, ").concat(this.elprop.y,"px) rotate(").concat(this.elprop.rot,"deg)"),zIndex:this.elprop.z,cursor:this.elprop.editable?"auto":"move"};return this.elprop.selected&&(t.outline="1px solid blue"),t}}},k=x,C=Object(m["a"])(k,O,w,!1,null,null,null),S=C.exports;function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function H(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){Object(c["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var $={name:"Page",components:{Toolbar:v,TransformControl:E,RichText:S},computed:H({},Object(b["b"])({elements:function(t){return t.pageElements}})),methods:{pageClick:function(t){return t.target.classList.contains("page")&&(this.$el.focus(),this.$store.commit("pageSelected")),!1}}},X=$,Y=Object(m["a"])(X,i,s,!1,null,null,null),M=Y.exports,I={name:"app",components:{Page:M}},L=I,F=Object(m["a"])(L,a,r,!1,null,null,null),K=F.exports,J=(o("7514"),o("20d6"),function(t){return Object.assign({id:t.id,type:t.type,x:Math.floor(100*Math.random()+200),y:Math.floor(100*Math.random()+200),height:100,width:300,z:0,rot:0,text:"Vue Page Note...",tempText:"",cursor:"move",selected:!1,editable:!1})});n["a"].use(b["a"]);var N=new b["a"].Store({strict:!0,state:{counter:1,pageElements:[],selectedElement:{},htmlText:""},mutations:{initialiseStore:function(t){localStorage.getItem("pagenote")&&(t.pageElements=JSON.parse(localStorage.getItem("pagenote"))),localStorage.getItem("ecount")&&(t.counter=JSON.parse(localStorage.getItem("ecount")))},addTextElement:function(t,e){var o=J({id:t.counter,type:e});t.pageElements.push(o),t.counter+=1},removeTextElement:function(t){var e=t.selectedElement.id;t.selectedElement.selected=!1,t.selectedElement.editable=!1,t.selectedElement={},t.htmlText="",t.pageElements.splice(t.pageElements.findIndex((function(t){return t.id===e})),1)},selectElement:function(t,e){t.selectedElement.selected=!1,t.selectedElement.editable=!1,n["a"].set(t,"selectedElement",t.pageElements.find((function(t){return t.id===e.id}))),t.selectedElement.height=e.h,t.selectedElement.width=e.w,t.selectedElement.selected=!0,t.htmlText=t.selectedElement.text},moveElement:function(t,e){n["a"].set(t.selectedElement,"x",e.x),n["a"].set(t.selectedElement,"y",e.y)},pageSelected:function(t){t.selectedElement.text=t.htmlText,t.selectedElement.selected=!1,t.selectedElement.editable=!1,t.selectedElement={}},updateProperties:function(t,e){for(var o in e)this.state.selectedElement.hasOwnProperty(o)&&n["a"].set(t.selectedElement,o,e[o])},savePage:function(t){t.pageElements,localStorage.setItem("pagenote",JSON.stringify(t.pageElements)),localStorage.setItem("ecount",t.counter)},updateHtmlText:function(t,e){t.htmlText=e},clearPage:function(t){localStorage.clear(),t.counter=1,t.selectedElement={},t.pageElements=[]}},actions:{}});o("a89b");n["a"].config.productionTip=!1,new n["a"]({store:N,beforeCreate:function(){this.$store.commit("initialiseStore")},render:function(t){return t(K)}}).$mount("#app")},"7fe2":function(t,e,o){},a89b:function(t,e,o){},b751:function(t,e,o){"use strict";var n=o("7fe2"),a=o.n(n);a.a}});
//# sourceMappingURL=app.js.map